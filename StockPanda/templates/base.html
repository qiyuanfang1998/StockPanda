{% load static %}<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <html lang="en">
    <meta name="google" content="notranslate">
    <meta http-equiv="Content-Language" content="en">
    <title>{% block title %}Stock Panda{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css?family=Peralta" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/app.css' %}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <style>
        body {
          font-family: 'Lato', serif;
        }
      </style>

    <!-- <link rel="stylesheet" href="{% static 'css/app.css' %}"> -->
    <!-- Favicon-->
    <link rel="shortcut icon" href="{%  static 'img/panda.ico' %}">
    {% block stylesheet %}{% endblock %}  
  </head>
  <body>
    {% block body %}  
      <nav class="navbar  navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
          <a class="navbar-brand" href="{% url 'home' %}"><img src = "{%static 'img/panda.svg' %}" width="36" height="36"/></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              {% if not user.is_authenticated %}
              <li class="active" style="padding: 0px 10px;">
                <a class="nav-link" id = "home" href="{%  url 'home' %}">Home </a>
              </li>
              <li class="" style="padding: 0px 10px;">
                <a class="nav-link" id = "login" href="{% url 'login' %}">Log In</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                <a class="nav-link" id = "signup" href="{% url 'signup' %}">Sign Up</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                <a class="nav-link" id = "about" href="{% url 'about' %}">About</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                  <a class="nav-link" id = "contact" href="{% url 'contact' %}">Contact</a>
                </li>
              {% else %}
              <li class="active" style="padding: 0px 10px;">
                  <a class="nav-link" id = "overview" href="{% url 'overview' %}">Overview</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                  <a class="nav-link" id = "portfolios" href="{% url 'portfolios' %}">Portfolios</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                  <a class="nav-link" id = "markets" href="{% url 'markets' %}">Markets</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                  <a class="nav-link" id = "discover" href="{% url 'discover' %}">Discover</a>
                </li>
              <li class="" style="padding: 0px 10px;">
                  <a class="nav-link" id = "analyze" href="{% url 'analyze' %}">Analyze</a>
              </li>
              <li class="" style="padding: 0px 10px;">
                  <a class="nav-link" id = "account" href="{% url 'account' %}">Account</a>
            </li> 
            <li class="" style="padding: 0px 10px;">
                <a class="nav-link" id = "logout" href="{% url 'logout' %}">Log Out</a>
        </li>                         
              {% endif %}
            </ul>
            <form class="form-inline my-2 my-lg-0">
              <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>
      <!--Secondary navbar dummy block-->
      <div id = "secondnav">
          {% block secondnav %}
          {% endblock %}
      </div>
      <br>
      <!--Centered page container-->
      <div class="container">
        <div id = "load">
        {% block content %}
        {% endblock %}
      </div>
      </div>
      <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
      <script src="{% static 'js/bootstrap.min.js' %}"></script>
      <script src="{% static 'js/app.js' %}"></script>      
      
      <!-- Script for messages passed to template by Django messaging system-->

      {% if messages %}
      {% for message in messages %}
        <script>
          var message = "{{ message }}";
          window.onload = function () { alert(message) }
        </script>
      {% endfor %}
    {% endif %}

      <!-- Django template if - else to determine active page for active class-->
      <!-- Probably bad code, refactor when have the time-->
      {% if request.get_full_path == '/'%}
      <script>
          $(".navbar-nav li").removeClass("active");
          $("#home").addClass("active");
    </script>
      {% elif request.get_full_path == '/login/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#login").addClass("active");
        </script>
    {% elif request.get_full_path == '/signup/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#signup").addClass("active");
        </script>
      {% elif request.get_full_path == '/about/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#login").addClass("active");
        </script>
      {% elif request.get_full_path == '/contact/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#contact").addClass("active");
        </script>
      {% elif request.get_full_path == '/overview/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#overview").addClass("active");
        </script>
      {% elif request.get_full_path == '/portfolios/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#portfolios").addClass("active");
        </script>
      {% elif request.get_full_path == '/markets/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#markets").addClass("active");
        </script>

      {% elif request.get_full_path == '/discover/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#discover").addClass("active");
        </script>
      {% elif request.get_full_path == '/analyze/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#analyze").addClass("active");
        </script>
      {% elif request.get_full_path == '/account/' %}
      <script>
        $(".navbar-nav li").removeClass("active");
        $("#account").addClass("active");
        </script>
      {% endif %}


      {% block javascript %}
      <!-- All JavaScript .. AJAX .. JQUERY goes here-->
      {% endblock %}
    {% endblock body %} 
  </body>
</html>
